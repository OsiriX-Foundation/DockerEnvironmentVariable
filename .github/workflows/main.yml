name: Docker env var

on:
  push:
    branches: [ master ]
  schedule:
    - cron: '0 22 * * 1-5'
    
jobs:
  EnvVar:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
        with:
          fetch-depth: 0
           
      - uses: actions/setup-python@v2
        with:
          python-version: 3.6

      - name: Install python
        run: |
          python -m pip install --upgrade pip
          pip3 install -r requirements.txt
          
      - name: Execute script
        run: python3 script.py

      #- name: Commit files
      #  run: |
      #    git config --local user.email "action@github.com"
      #    git config --local user.name "GitHub Action"
      #    git add README.md
      #    git commit -m "from github action" --allow-empty
      
      - name: Git Auto Commit
        uses: stefanzweifel/git-auto-commit-action@v4.8.0
        with:
          commit_message: test
          commit_options: --allow-empty
          file_pattern: README.md


          
      #- name: GitHub Push
        # You may pin to the exact commit or the version.
        # uses: ad-m/github-push-action@40bf560936a8022e68a3c00e7d2abefaf01305a6
      #  uses: ad-m/github-push-action@v0.6.0
      #  with:
          # Token for the repo. Can be passed in using $\{{ secrets.GITHUB_TOKEN }}
      #    github_token: ${{ secrets.GH_TOKEN  }}
      #    force: true
